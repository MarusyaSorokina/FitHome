{% extends 'coach/base.html' %}
{% load static %}


{% block css %}
<link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/owl.carousel.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/slicknav.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/flaticon.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/gijgo.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/animated-headline.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/magnific-popup.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/fontawesome-all.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/themify-icons.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/slick.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/nice-select.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
<link rel="stylesheet" href= "{% static 'css/style.css' %}">
{% endblock %}

{% block content %}

 <main>
        <!--? Hero Start -->
        <div class="slider-area2">
            <div class="slider-height2 d-flex align-items-center pt-80">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-12 pt-90">
                            <div class="hero-cap hero-cap2 text-justify">
                               <h2 class="count">Постов: {{ page_obj.paginator.count }}</h2>

                        {% for post in page_obj %}
                                <div class="element">
                                    <h2 class="top">
                                        <a href="{% url 'detail' post.id %}">{{ post.title }}</a>
                                    </h2>
                                    <div class="post_text">
                                        <h5>{{ post.created_at|date:'d.m.Y' }}</h5>
                                        <p>{{ post.content|striptags|truncatechars:360 }}</p>
                                    </div>
                                </div>
                            {% endfor %}

                            <!-- Пагинация -->
                            {% if page_obj.has_other_pages %}
                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-center mt-4">
                                        <!-- Кнопка «Предыдущая» -->
                                        {% if page_obj.has_previous %}

                                            <li class="page-item">
                                                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                                                    « Предыдущая
                                                </a>
                                            </li>
                                        {% else %}
                                            <li class="page-item disabled">
                                                <span class="page-link">« Предыдущая</span>
                                            </li>
                                        {% endif %}

                                        <!-- Номера страниц -->
                                        {% for num in paginator.page_range %}
                                            {% if page_obj.number == num %}
                                                <li class="page-item active" aria-current="page">
                                                    <span class="page-link">{{ num }}</span>
                                                </li>
                                            {% elif num > page_obj.number|add:-3 and num < page_obj.number|add:3 %}
                                                <li class="page-item">
                                                    <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                                                </li>
                                            {% endif %}
                                        {% endfor %}

                                        <!-- Кнопка «Следующая» -->
                                        {% if page_obj.has_next %}
                                            <li class="page-item">
                                                <a class="page-link" href="?page={{ page_obj.next_page_number }}">
                                                    Следующая »
                                                </a>
                                            </li>
                                        {% else %}
                                            <li class="page-item disabled">
                                                <span class="page-link">Следующая »</span>
                                            </li>
                                        {% endif %}
                                    </ul>
                                </nav>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}